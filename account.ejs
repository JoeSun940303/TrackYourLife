<!DOCTYPE html>
<html lang="en" ng-app="myApp" ng-controller="myCtrl">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head
       content must come *after* these tags -->
    <title>Track Your Life</title>
    <!-- Bootstrap -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/bootstrap-social.css" rel="stylesheet">
    <link href="css/mystyles.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
   <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#mynav" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
          <a class="navbar-brand" href="/"><img src="img/Track.png" height=30 width=80></a>
        </div>
        <div class="navbar-collapse collapse" id="mynav" style="max-height: 100% !important; ">
          <ul class="nav navbar-nav">
            <li><a href="/"> Home</a></li>
            <li><a href="#">About</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                         Track <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Exercise</a></li>
                <li><a href="#">Meal</a></li>
                <li><a href="#">Learning</a></li>
                <li><a href="#">Notes</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                          Leisure <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">News</a></li>
                <li><a href="#">Calm</a></li>
                <li><a href="#">ComeSoon</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                           Development <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Developer sign in</a></li>
                <li><a href="#">Join us</a></li>
                <li><a href="#">Our source code</a></li>
              </ul>
            </li>
            <li><a href="/update">UpdateLog</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown active">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" ng-click="isLoggedIn()">
                         Account <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li ng-hide="loggedIn"><a href='/account'>Sign up</a></li>
                <li ng-hide="loggedIn"><a id="signinbutton">Sign in</a></li>
                <li ng-hide="!loggedIn"><a href='/profile'>profile</a></li>
                <li ng-hide="!loggedIn"><a href='/logout'>logout</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div id="loginModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Login </h4>
          </div>
          <div class="modal-body">
            <form action="http://www.fasttracklives.com:8080/signin" method="post">
              <% if (message.length > 0) { %>
                <div class="alert alert-danger">
                  <%= message %>
                </div>
                <% } %>
                  <div class="row">
                    <div class="form-group col-xs-12">
                      <label class="sr-only" for="username">E-mail</label>
                      <input type="text" class="form-control" id="e-mail" placeholder="name" size="18" name="email">
                    </div>
                    <div class="form-group col-xs-12">
                      <label class="sr-only" for="password">Password</label>
                      <input type="password" class="form-control" id="password" placeholder="password" size="18" name="password">
                    </div>
                  </div>
                  <div class="row hidden-xs">
                    <div class="checkbox col-sm-12">
                      <label> <input type = "checkbox"> <span style = "color:black">Remember Me</span> </label>
                    </div>
                    <div class="col-sm-8 col-xs-12">
                      <a href='underconstruction.html'>
                        <p>Forget password?</p>
                      </a>
                    </div>
                    <div class="col-sm-4 col-xs-12 text-right">
                      <button type="submit" class="btn btn-info btn-sm "> Sign in </button>
                      <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancel</button>
                    </div>
                  </div>
                  <div class="row visible-xs">
                    <div class="checkbox text-center">
                      <label> <input type = "checkbox"> <span style = "color:black">Remember Me</span> </label>
                    </div>
                    <div class="col-sm-8 col-xs-12 text-center">
                      <a href='underconstruction.html'>
                        <p>Forget password?</p>
                      </a>
                    </div>
                    <div class="col-sm-4 col-xs-12 text-center">
                      <button type="submit" class="btn btn-info btn-sm "> Sign in </button>
                      <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancel</button>
                    </div>
                  </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="row" style="position:relative;">
      <header class="jumbotron">
        <!-- Main component for a primary marketing message or call to action -->
        <div class="container">
          <div class="row row-header">
            <div class="col-xs-1 visible-xs"> </div>
            <div class="col-xs-10 col-sm-6 nopadding">
              <h1>Create your ID</h1>
              <p style="padding:30px;"></p>
              <p>Now, just one account, you can achieve the function combined from different apps before</p>
            </div>
          </div>
        </div> d
      </header>
    </div>
    <div>
      <div>
        <ol class="breadcrumb" style="background-color:white">
          <li><a href="/">Home</a></li>
          <li><a href="underconstruction.html">Account</a></li>
          <li class="active"> Sign up </li>
        </ol>
      </div>
    </div>

    <% if (registermsg.length > 0) { %>
      <div class="alert alert-danger">
        <%= registermsg%>
      </div>
      <% } %>


        <form action="http://www.fasttracklives.com:8080/register" method="post">
          <fieldset id="field" class="form-account" style="position: relative;text-align:center;z-index: 998; top:20; margin:20px;margin-left:20%; margin-right:20%">
            <legend style="text-align:center">Account information:</legend>
            <div class="image-upload">
              <label for="file-input">
                 <img id = "accountpic" src="img/accountbackground.jpg" style ="height:100px;width:100px;border-radius: 50%;"/>
             </label>
              <input id="file-input" type="file" />
            </div>
            <p style="margin: 20px"> Click on image to choose your account profile </p>
            <input class="inputregion" type="email" name="email" placeholder="E-mail" style="border-radius:5px;" required> <br/>
            <input class="inputregion" type="password" name="password" placeholder="Password" style="border-radius:5px;" required> <br>
            <input class="inputregion" type="password" name="confirm" placeholder="Password" style="border-radius:5px;" required> <br/>
            <input class="inputregion" type="text" name="accountname" placeholder="Your alias" style="border-radius:5px;" required> <br>
            <input class="inputregion" type="text" name="invitecode" placeholder="InvatationCode" style="border-radius:5px;" required> <br/>
          </fieldset>
          <fieldset class="form-basicinfo" style="border-radius:10px;position: relative;text-align:center;z-index: 998; top:20px; margin-left:20%; margin-right:20%;">
            <legend style="text-align:center; ">Personal information:</legend>
            <input class="inputregion" type="text" name="firstname" placeholder="First name" style="border-radius:5px;" required> <br>
            <input class="inputregion" type="text" name="lastname" placeholder="Last name" style="border-radius:5px;" required> <br>
            <input class="inputregion" type="date" name="bday" placeholder="Birthday" style="border-radius:5px;" required> <br/>
            <select id="select-region" name="gender">
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </fieldset>
          <fieldset class="form-security" style="border-radius:10px;position: relative;text-align:center;z-index: 998; top:20px; margin:20px;margin-left:20%; margin-right:20%">
            <legend style="text-align:center">Security Question:</legend>
            <input list="Q1" class="inputregion" placeholder="Security Question 1" style="border-radius:5px;" name="Q1">
            <datalist id="Q1">
                <option value="What's your father's first name">
                <option value="who's your favourite singer">
                <option value="What is your birthday">
                <option value="When you enter your high school">
                <option value="When you get married">
              </datalist> <br/>
            <input class="inputregion" type="text" name="A1" placeholder="Answer" style="border-radius:5px;"> <br/>
            <input list="Q2" class="inputregion" placeholder="Security Question 2" style="border-radius:5px;" name="Q2">
            <datalist id="Q2">
                <option value="What's your father's first name">
                <option value="who's your favourite singer">
                <option value="What is your birthday">
                <option value="When you enter your high school">
                <option value="When you get married">
              </datalist> <br/>
            <input class="inputregion" type="text" name="A2" placeholder="Answer" style="border-radius:5px;"> <br/>
            <input list="Q3" class="inputregion" placeholder="Security Question 3" style="border-radius:5px;" name="Q3">
            <datalist id="Q3">
                <option value="What's your father's first name">
                <option value="who's your favourite singer">
                <option value="What is your birthday">
                <option value="When you enter your high school">
                <option value="When you get married">
              </datalist> <br/>
            <input class="inputregion" type="text" name="A3" placeholder="Answer" style="border-radius:5px;"> <br/>
          </fieldset>
          <div style="position:relative; text-align:center; margin:40px; margin-left:20%;margin-right:20%">
            <input id="register" type="submit" value="Register" style="width: 140px; border-radius:5px;" />
          </div>
        </form>
        <div class="row">
          <footer style="background-color:#333333">
            <div class="container">
              <div class="row footer-content">
                <div class="col-xs-6 col-sm-4 ">
                  <h5 style="color:#D5D5D5">Related Links</h5>
                  <ul class="list-unstyled">
                    <li><a style="color:#BABABA" href="https://www.google.com">The WebGithub</a></li>
                    <li><a style="color:#BABABA" href="https://www.google.com">The University</a></li>
                    <li><a style="color:#BABABA" href="https://www.google.com">Main Page</a></li>
                    <li><a style="color:#BABABA" href="https://www.google.com">Contact</a></li>
                  </ul>
                </div>
                <div class="col-xs-6 col-sm-4">
                  <h5 style="color:#D5D5D5">Developer</h5>
                  <p style="color:#BABABA">
                    Name: Yufei Sun<br> Address: University of Illinois, Urbana -Champaign<br> US, 61820<br> E-mail: <a href="mailto:yufei940303@gmail.com">yufei940303@gmail.com</a>
                  </p>
                </div>
                <div class="col-xs-12 col-sm-4">
                  <h5 style="color:#D5D5D5">Share to</h5>
                  <div class="nav navbar-nav" style="padding: 10px 10px;">
                    <a class="btn btn-social-icon " href="http://google.com/+"><i class="fa fa-google-plus" style = "color:white"></i></a>
                    <a class="btn btn-social-icon " href="http://www.facebook.com/profile.php?id="><i class="fa fa-facebook" style = "color:white"></i></a>
                    <a class="btn btn-social-icon " href="http://www.linkedin.com/in/"><i class="fa fa-linkedin" style = "color:white"></i></a>
                    <a class="btn btn-social-icon " href="http://twitter.com/"><i class="fa fa-twitter" style = "color:white"></i></a>
                    <a class="btn btn-social-icon " href="http://youtube.com/"><i class="fa fa-youtube" style = "color:white"></i></a>
                  </div>
                </div>
                <div class="col-xs-12">
                  <p style="padding:10px;"></p>
                  <p style="color:#BABABA" align=center>Â© Copyright 2015 I don't know what to write here</p>
                </div>
              </div>
            </div>
          </footer>
        </div>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="bower_components/angular/angular.min.js"></script>

        <script>
          $(document).ready(function() {

            <% if (message.length > 0) { %>
            $('#loginModal').modal('show');
            <% } %>


            $("#mycarousel").carousel({
              interval: 2000
            });
            $("#carousel-pause").click(function() {
              $("#mycarousel").carousel('pause');
            });
            $("#carousel-play").click(function() {
              $("#mycarousel").carousel('cycle');
            });
            $("#signinbutton").click(function() {
              $('#loginModal').modal('show')
            });
            $("#reserveButton").click(function() {
              $('#reserveModal').modal('show')
            });
          });
        </script>

        <script>
          var app = angular.module('myApp', []);
          app.controller('myCtrl', function($scope, $http) {
            $scope.loggedIn = false;

            $scope.isLoggedIn = function() {
              console.log("position1");

              $http.get('/checklogin')
                .success(function(data) {
                  console.log(data);
                  if (data === true)
                    $scope.loggedIn = true;
                  else
                    $scope.loggedIn = false;
                })
                .error(function(data) {
                  console.log('error: ' + data);
                });
            };
          });
        </script>


  </body>

</html>
